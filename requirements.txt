# Server Requirements
accelerate
diffusers
fastapi
huggingface_hub
keras
keras_cv
pillow
protobuf
python-multipart
sentencepiece
transformers
uvicorn

# Image and video processing
opencv-python               # For video capture and image processing
Pillow

# Networking & Utilities
requests                    # For sending HTTP requests to the server

# Codeformer requirements
addict
future
lmdb
numpy
opencv-python
Pillow
pyyaml
requests
scikit-image
scipy
tb-nightly
torch>=1.7.1
torchvision
tqdm
yapf
lpips
gdown # supports dVwnloading the large file from Google Drive

tensorflow

# Constrain numpy to a version below 2 for all platforms
numpy<2

###############################
# macOS Dependencies
###############################
# Use the macOS-specific TensorFlow and PyTorch packages (Metal-enabled)
tensorflow-macos; platform_system == "Darwin"
tensorflow-metal; platform_system == "Darwin"
torch; platform_system == "Darwin"
torchvision; platform_system == "Darwin"
torchaudio; platform_system == "Darwin"

###############################
# Linux/Windows Dependencies
###############################
# Use the CUDA-enabled TensorFlow package (if itâ€™s built that way)
tensorflow[and-cuda]; platform_system != "Darwin"
# For PyTorch on Linux/Windows we use direct URL references to pick up the CUDA-enabled wheels.
# (Make sure to update these URLs to match your desired versions and Python version.)
torch @ https://download.pytorch.org/whl/cu124/torch-2.0.1%2Bcu124-cp311-cp311-linux_x86_64.whl; platform_system != "Darwin"
torchvision @ https://download.pytorch.org/whl/cu124/torchvision-0.15.2%2Bcu124-cp311-cp311-linux_x86_64.whl; platform_system != "Darwin"
torchaudio @ https://download.pytorch.org/whl/cu124/torchaudio-2.0.2%2Bcu124-cp311-cp311-linux_x86_64.whl; platform_system != "Darwin"